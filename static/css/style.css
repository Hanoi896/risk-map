/* static/css/style.css */
/* 기본 리셋 및 폰트 설정 */
body, html {
 margin: 0;
 padding: 0;
 width: 100%;
 height: 100%;
 font-family: 'Noto Sans KR', sans-serif; /* Google Font 적용 */
 overflow: hidden; /* 스크롤바 기본 숨김 */
 font-size: 14px;
 background-color: #f4f4f4;
}

#map {
 width: 100%;
 height: 100vh;
 position: absolute;
 top: 0;
 left: 0;
 z-index: 1;
}

/* 컨트롤 패널 토글 버튼 */
.control-panel-toggle-button {
 position: absolute;
 top: 15px;
 left: 15px;
 z-index: 1001; /* 다른 Leaflet 컨트롤보다 위에 */
 padding: 10px 15px;
 font-size: 1em;
 background-color: rgba(255, 255, 255, 0.9);
 color: #333;
 border: 1px solid #ccc;
 border-radius: 5px;
 cursor: pointer;
 box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
 transition: background-color 0.2s, box-shadow 0.2s;
 display: flex;
 align-items: center;
}

.control-panel-toggle-button:hover {
 background-color: #fff;
 box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
}

.control-panel-toggle-button .icon {
 margin-right: 8px;
 font-size: 1.2em;
}

/* 컨트롤 패널 래퍼 (애니메이션 및 위치) */
.control-panel-wrapper {
 position: absolute;
 top: 0;
 left: -350px; /* 초기에는 화면 밖으로 숨김 */
 width: 320px;
 height: 100vh;
 z-index: 1000;
 background-color: rgba(255, 255, 255, 0.95);
 box-shadow: 2px 0 10px rgba(0,0,0,0.1);
 transition: left 0.3s ease-in-out;
 display: flex;
 flex-direction: column;
 overflow-y: auto; /* 패널 내용이 길어지면 스크롤 */
 border-right: 1px solid #e0e0e0;
}

.control-panel-wrapper.show {
 left: 0; /* 보일 때 화면 안으로 */
}

/* 컨트롤 패널 내부 */
.control-panel {
 padding: 20px;
 flex-grow: 1; /* 남은 공간 채우기 */
}

.panel-header {
 display: flex;
 justify-content: space-between;
 align-items: center;
 margin-bottom: 20px;
 padding-bottom: 10px;
 border-bottom: 1px solid #eee;
}

.panel-header h3 {
 margin: 0;
 font-size: 1.4em;
 color: #333;
}

.close-panel-btn {
 background: none;
 border: none;
 font-size: 1.8em;
 color: #888;
 cursor: pointer;
 padding: 0 5px;
}
.close-panel-btn:hover {
 color: #333;
}

.panel-section {
 margin-bottom: 25px;
}

.panel-section h4 {
 font-size: 1.1em;
 color: #555;
 margin-top: 0;
 margin-bottom: 12px;
 padding-bottom: 5px;
 border-bottom: 1px dashed #ddd;
}

.panel-section label, 
.panel-section .toggle-switch-label {
 display: block;
 margin-bottom: 8px;
 color: #444;
 font-size: 0.95em;
}

.panel-section select {
 width: 100%;
 padding: 8px;
 border: 1px solid #ccc;
 border-radius: 4px;
 background-color: #fff;
 font-size: 0.9em;
 margin-top: 4px;
 box-sizing: border-box; /* 패딩과 테두리가 너비에 포함되도록 */
}

#year-filter {
 max-height: 150px; /* 스크롤 높이 조정 */
}

/* 토글 스위치 스타일 */
.toggle-switch-label {
 position: relative;
 display: inline-flex; /* 텍스트와 스위치 정렬 */
 align-items: center;
 cursor: pointer;
 user-select: none;
 width: 100%;
 padding: 5px 0;
}

.toggle-switch-label input {
 opacity: 0;
 width: 0;
 height: 0;
}

.slider {
 position: relative; /* before 요소의 기준점 */
 display: inline-block;
 width: 44px; /* 너비 조정 */
 height: 24px; /* 높이 조정 */
 background-color: #ccc;
 transition: .4s;
 border-radius: 24px; /* 높이에 맞게 */
 margin-right: 10px;
 flex-shrink: 0; /* 줄어들지 않도록 */
}

.slider:before {
 position: absolute;
 content: "";
 height: 18px; /* 내부 원 크기 */
 width: 18px;  /* 내부 원 크기 */
 left: 3px;    /* 위치 조정 */
 bottom: 3px;  /* 위치 조정 */
 background-color: white;
 transition: .4s;
 border-radius: 50%;
}

input:checked + .slider {
 background-color: #4CAF50; /* 활성 색상 */
}

input:checked + .slider:before {
 transform: translateX(20px); /* 이동 거리 조정 */
}

/* 범례 패널 */
.legend-panel {
 padding: 20px;
 background-color: rgba(248, 248, 248, 0.9); /* 약간 다른 배경 */
 border-top: 1px solid #e0e0e0;
}

.legend-section {
 margin-bottom: 15px;
}
.legend-section:last-child {
 margin-bottom: 0;
}

.legend-section h5 {
 font-size: 1em;
 color: #555;
 margin-top: 0;
 margin-bottom: 8px;
}

.legend-item {
 display: flex;
 align-items: center;
 margin-bottom: 5px;
 font-size: 0.85em;
 color: #666;
}

.legend-item span {
 display: inline-block;
 width: 16px;
 height: 16px;
 margin-right: 8px;
 border: 1px solid #ccc;
 border-radius: 3px; /* 약간 둥글게 */
 flex-shrink: 0;
}

/* 개별 범례 색상 (클래스 사용) */
.eonet-c5 { background-color: #ff0000; }
.eonet-c4 { background-color: #ff6600; }
.eonet-c3 { background-color: #ffcc00; }
.eonet-c2 { background-color: #99cc00; }
.eonet-c1 { background-color: #33cc33; }
.eonet-c0 { background-color: #999999; }

.gdacs-red    { background-color: #FF0000; border-color: #fff !important; }
.gdacs-orange { background-color: #FFA500; border-color: #fff !important; }
.gdacs-green  { background-color: #00C800; border-color: #fff !important; }
.gdacs-gray   { background-color: #808080; border-color: #fff !important; }

.disease-outbreak { background-color: #8A2BE2; border-color: #fff !important; }


/* 반응형 (간단한 예시) */
@media (max-width: 768px) {
 .control-panel-wrapper {
   width: 280px; /* 작은 화면에서는 패널 너비 줄이기 */
   left: -300px; /* 숨겨질 때 위치 조정 */
 }
 .control-panel-toggle-button {
   top: 10px;
   left: 10px;
   padding: 8px 12px;
 }
 .panel-header h3 {
   font-size: 1.2em;
 }
}

/* Leaflet Geocoder 스타일 약간 조정 (선택 사항) */
.leaflet-control-geocoder {
 box-shadow: 0 1px 5px rgba(0,0,0,0.2);
 border-radius: 4px;
}
.leaflet-control-geocoder-form input {
 font-size: 13px;
}

/* 스크롤바 스타일링 (웹킷 브라우저용) */
.control-panel-wrapper::-webkit-scrollbar {
 width: 8px;
}
.control-panel-wrapper::-webkit-scrollbar-track {
 background: #f1f1f1;
 border-radius: 10px;
}
.control-panel-wrapper::-webkit-scrollbar-thumb {
 background: #c1c1c1;
 border-radius: 10px;
}
.control-panel-wrapper::-webkit-scrollbar-thumb:hover {
 background: #a1a1a1;
}